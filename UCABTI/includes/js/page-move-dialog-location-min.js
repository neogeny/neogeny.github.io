jQuery.fn.movePageAutocomplete=function(D,C,B,A){var F=jQuery;var E=A;AJS.log(D);return F(this).quicksearch(D,null,{dropdownPostprocess:function(G){F("> ol.last",G).remove();if(!F("> ol",G).length){F(G).append(AJS.renderTemplate(B))}F("> ol:last-child",G).addClass("last");F("a",G).attr("tabindex","-1")},dropdownPlacement:function(G){F(C).append(G)},ajsDropDownOptions:{selectionHandler:function(H,G){if(G){this.hide("selected");E(H,G);H.preventDefault()}}}})};jQuery.fn.movePageLocation=function(C){var F=jQuery;var B=F(this);var E=F("#new-space",B);var D=F("#new-space-key",B);var A=F("#new-parent-page",B);var G=function(){if(E.val()==""){E.val(AJS.params.spaceName);D.val(AJS.params.spaceKey)}C.clearErrors();C.select(D.val(),E.val(),A.val())};A.blur(G).focus(function(){C.clearErrors();AJS.dropDown.current&&AJS.dropDown.current.hide()});E.blur(G).focus(function(){AJS.dropDown.current&&AJS.dropDown.current.hide()});E.movePageAutocomplete("/json/contentnamesearch.action?type=spacedesc&type=personalspacedesc",F(".new-space-dropdown",B),"movePageNoMatchingSpaces",function(J,I){var H=I.find("span").data("properties");D.val(H.spaceKey);E.val(AJS("span").html(H.name).text());A.val("");G();A.focus()});A.movePageAutocomplete(function(){return"/json/contentnamesearch.action?type=page&spaceKey="+D.val()},F(".new-parent-page-dropdown",B),"movePageNoMatchingPages",function(I,H){var J=AJS("span").html(H.find("span").data("properties").name).text();A.val(J);G();window.setTimeout(function(){C.moveButton.focus()},50)})};