(function(){var B=window.AJS||{};function C(){this.node=B("ol").addClass("aui-items-list").hide()}function A(){this.node=B("ol").addClass("aui-items-list").hide()}C.prototype.beforeAdd=A.prototype.beforeAdd=function(){return true};C.prototype.onAdd=A.prototype.onAdd=function(){};C.prototype.beforeRemove=A.prototype.beforeRemove=function(){return true};C.prototype.onRemove=A.prototype.onRemove=function(){};C.prototype.add=function(I,E){var H=this;E=E||I;this.items=this.items||[];this.values=this.values||{};if(!(I in this.values)&&this.beforeAdd.call({value:I,name:E})){this.items.push(I);this.values[I]={name:E,id:this.items.length-1,remove:function(J){H.items.splice(H.values[I].id,1);delete H.values[I];H.onRemove.call({value:I});if(J===true){D.remove()}else{D.slideUp("fast",function(){D.remove()})}if(!H.length){H.node.hide()}}};var D=B("li"),G=B("span",E),F=B("button","x").click(this.values[I].remove);D.append(G).append(F);this.node.append(D);this.onAdd.call({li:D,span:G,button:F,value:I,name:E,remove:H.values[I].remove});if(H.length){H.node.show()}return true}else{return false}};A.prototype.add=function(I,E){var H=this;E=E||I;this.items=this.items||[];this.values=this.values||[];if(this.beforeAdd.call({value:I,name:E})){this.items.push(I);this.values.push({name:E,value:I,remove:(function(J){return function(K){H.items.splice(J,1);H.values.splice(J,1);H.onRemove.call({value:I});if(K===true){D.remove()}else{D.slideUp("fast",function(){D.remove()})}if(!H.length){H.node.hide()}}})(this.items.length-1)});var D=B("li"),G=B("span",E),F=B("button","x").click(this.values[this.values.length-1].remove);D.append(G).append(F);this.node.append(D);this.onAdd.call({li:D,span:G,button:F,value:I,name:E,remove:H.values[H.values.length-1].remove});if(H.length){H.node.show()}return true}return false};A.prototype.remove=function(F,D){if(this.beforeRemove.call({value:F})){var E=this.values[B.$.inArray(F,this.items)];E&&E.remove(D);return !!E}return false};C.prototype.remove=function(E,D){if(this.beforeRemove.call({value:E})){this.values[E]&&this.values[E].remove(D);return !!this.values[E]}return false};A.prototype.clear=function(){for(var D=0,E=this.items.length;D<E;D++){this.remove(this.items[D],true)}};C.prototype.clear=function(){for(var D in this.values){this.remove(D,true)}};A.prototype.length=C.prototype.length=function(){return this.items.length};C.prototype.contains=function(D){return(D in this.values)};A.prototype.contains=function(D){return !!(B.$.inArray(D,this.items)+1)};C.prototype.get=A.prototype.get=function(){return this.items.concat([])};B.itemsList=function(D){return new (D?A:C)()}})();