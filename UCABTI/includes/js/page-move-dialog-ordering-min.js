jQuery.fn.movePageOrdering=function(I,J,G,E){var F=jQuery;var C=F("#confluence-context-path").attr("content");var B=F("#orderingPlaceHolder",this);B.addClass("loading").html(AJS.renderTemplate("movePagePanelLoading"));B.load(C+"/panels/reorderpage.action",{panelName:"reorder",spaceKey:I,title:J,movedPageId:AJS.params.pageId,pageTitle:G},function(){B.removeClass("loading");H(B,E);A(F(".siblings",B))});var D=function(M,O){var L;var N=M.prevAll("li.sibling")[0];if(N){L="below"}else{L="above";N=M.nextAll("li.sibling")[0]}if(N){AJS.log("Reorder: positionIndicator = "+L+" and target = "+N.innerHTML);var K=F("i",N).text();O(K,L)}};var H=function(K,P){var M=F(".dropper",K),O=F(".target",M);var L=0;F("li",M).each(function(Q){!Q&&F(this).before(F('<li class="leading">&nbsp;</li>'));F(this).after(F('<li class="leading">&nbsp;</li>'))});var N=O.next();F(".leading",M).hover(function(Q){F(this).addClass("here")},function(){F(this).removeClass("here")}).click(function(){D(F(this),P);var Q=this;O.hide(150,function(){Q!=N[0]&&F(Q).after(N).after(O);O.show(150)})})};var A=function(K){var M=F(".target",K);if(M.length){var L=M.position().top;var N=K.height();if(L<0||L>N){K.scrollTop(K.scrollTop()+L-N/3)}}}};