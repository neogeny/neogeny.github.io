AJS.Editor.Markup={storeTextareaBits:function(B,A,E){if(A.selectionStart!=null){A.sel=A.value.substr(A.selectionStart,A.selectionEnd-A.selectionStart);A.sel1=A.value.substr(0,A.selectionStart);A.sel2=A.value.substr(A.selectionEnd);B.selectedText.value=A.sel}else{if(document.selection&&document.selection.createRange){try{!E&&B.elements[AJS.params.parametersName].focus()}catch(D){}var C=document.selection.createRange();A.caretPos=C.duplicate();B.selectedText.value=C.text}}return B.selectedText.value},insertOrUpdateText:function(C,A){if(window.getSelection&&A.selectionStart&&A.selectionStart!=null){A.value=A.sel1+C+A.sel2;A.focus();A.selectionStart=A.selectionEnd=A.sel1.length+C.length}else{if(A.createTextRange&&A.caretPos){var B=A.caretPos;B.text=B.text.charAt(B.text.length-1)==" "?C+" ":C}else{A.value+=C}}}};